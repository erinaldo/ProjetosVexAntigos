<?xml version="1.0" encoding="utf-8"?>
<xs:schema id="DSNFAguardandoEmbarque" targetNamespace="http://tempuri.org/DSNFAguardandoEmbarque.xsd" xmlns:mstns="http://tempuri.org/DSNFAguardandoEmbarque.xsd" xmlns="http://tempuri.org/DSNFAguardandoEmbarque.xsd" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:msdata="urn:schemas-microsoft-com:xml-msdata" xmlns:msprop="urn:schemas-microsoft-com:xml-msprop" attributeFormDefault="qualified" elementFormDefault="qualified">
  <xs:annotation>
    <xs:appinfo source="urn:schemas-microsoft-com:xml-msdatasource">
      <DataSource DefaultConnectionIndex="0" FunctionsComponentName="QueriesTableAdapter" Modifier="AutoLayout, AnsiClass, Class, Public" SchemaSerializationMode="IncludeSchema" xmlns="urn:schemas-microsoft-com:xml-msdatasource">
        <Connections>
          <Connection AppSettingsObjectName="Web.config" AppSettingsPropertyName="SistranWebGrupoLogos" ConnectionStringObject="" IsAppSettingsProperty="true" Modifier="Assembly" Name="SistranWebGrupoLogos (Web.config)" ParameterPrefix="@" PropertyReference="AppConfig.System.Configuration.ConfigurationManager.0.ConnectionStrings.SistranWebGrupoLogos.ConnectionString" Provider="System.Data.SqlClient" />
        </Connections>
        <Tables>
          <TableAdapter BaseClass="System.ComponentModel.Component" DataAccessorModifier="AutoLayout, AnsiClass, Class, Public" DataAccessorName="DataTable1TableAdapter" GeneratorDataComponentClassName="DataTable1TableAdapter" Name="DataTable1" UserDataComponentName="DataTable1TableAdapter">
            <MainSource>
              <DbSource ConnectionRef="SistranWebGrupoLogos (Web.config)" DbObjectType="Unknown" FillMethodModifier="Public" FillMethodName="Fill" GenerateMethods="Both" GenerateShortCommands="false" GeneratorGetMethodName="GetData" GeneratorSourceName="Fill" GetMethodModifier="Public" GetMethodName="GetData" QueryType="Rowset" ScalarCallRetval="System.Object, mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" UseOptimisticConcurrency="false" UserGetMethodName="GetData" UserSourceName="Fill">
                <SelectCommand>
                  <DbCommand CommandType="Text" ModifiedByUser="true">
                    <CommandText>Select  
 CEMB.FilialAtual filial,   
 FL.Sigla nome,  COUNT(*) Notas,   
 Coalesce(Count(Distinct CNH.CnpjDestinatario),0) As Entregas,     
 SUM(CNH.Volumes) Volumes,  Cast(SUM(CNH.Peso) As Numeric(12,0)) Peso,  
 Cast(SUM(CNH.ValorDaNota) As Numeric(12,2)) ValorDaNota,              
 (  Select  Count(*) RE  From RelacaoDeEntrega RE      where   RE.Filial = CEMB.FilialAtual  and RE.Emissao = CONVERT(datetime, @data, 103)) RE_Emitidas,    
 (  Select  Count(*) RE  From RelacaoDeEntrega RE  where   RE.Filial = CEMB.FilialAtual  and RE.Situacao in ('DOCUMENTO IMPRESSO','AGUARDANDO IMPRESSAO')  ) RE_NaoLiberadas,  
 (  Select  Count(*)   From RelacaoDeEntrega RE  Inner Join RelacaoDeEntregaConhecimento REC on (REC.Filial = RE.Filial and REC.Serie = RE.Serie and REC.RelacaoDeEntrega = RE.RelacaoDeEntrega)  where   RE.Filial = CEMB.FilialAtual  and RE.Situacao in ('DOCUMENTO IMPRESSO','AGUARDANDO IMPRESSAO')  ) NotasFiscaisNasRENaoLiberadas,     (  Select  COUNT(*)  From Conhecimento CNH  where  CNH.FilialDestino = CEMB.FilialAtual   and CNH.DataDeEmissao &gt;=  '01/jan/2012'  and CNH.DataDeEntrega is null  and DATEDIFF(day, CNH.DataDeEmissao, GETDATE()) &gt; 5  ) SemDataDeEntrega  From ConhecimentoAEmbarcar CEMB  Inner Join Conhecimento CNH on (CNH.FilialLancamento = CEMB.FilialLancamento and CNH.Controle = CEMB.Controle)  Inner Join Filial FL on (FL.Filial = CEMB.FilialAtual) where CEMB.Situacao IN ('AGUARDANDO ENTREGA', 'AGUARDANDO EMBARQUE') and CEMB.FilialAtual &lt;&gt; '14' Group By  CEMB.FilialAtual, FL.Sigla  Order By   CEMB.FilialAtual  
 </CommandText>
                    <Parameters>
                      <Parameter AllowDbNull="false" AutogeneratedName="data" ColumnName="" DataSourceName="" DataTypeServer="datetime" DbType="DateTime" Direction="Input" ParameterName="@data" Precision="0" Scale="0" Size="8" SourceColumn="" SourceColumnNullMapping="false" SourceVersion="Current" />
                    </Parameters>
                  </DbCommand>
                </SelectCommand>
              </DbSource>
            </MainSource>
            <Mappings>
              <Mapping SourceColumn="filial" DataSetColumn="filial" />
              <Mapping SourceColumn="nome" DataSetColumn="nome" />
              <Mapping SourceColumn="Notas" DataSetColumn="Notas" />
              <Mapping SourceColumn="Entregas" DataSetColumn="Entregas" />
              <Mapping SourceColumn="Volumes" DataSetColumn="Volumes" />
              <Mapping SourceColumn="Peso" DataSetColumn="Peso" />
              <Mapping SourceColumn="ValorDaNota" DataSetColumn="ValorDaNota" />
              <Mapping SourceColumn="RE_Emitidas" DataSetColumn="RE_Emitidas" />
              <Mapping SourceColumn="RE_NaoLiberadas" DataSetColumn="RE_NaoLiberadas" />
              <Mapping SourceColumn="NotasFiscaisNasRENaoLiberadas" DataSetColumn="NotasFiscaisNasRENaoLiberadas" />
              <Mapping SourceColumn="SemDataDeEntrega" DataSetColumn="SemDataDeEntrega" />
            </Mappings>
            <Sources />
          </TableAdapter>
          <TableAdapter BaseClass="System.ComponentModel.Component" DataAccessorModifier="AutoLayout, AnsiClass, Class, Public" DataAccessorName="DataTable2TableAdapter" GeneratorDataComponentClassName="DataTable2TableAdapter" Name="DataTable2" UserDataComponentName="DataTable2TableAdapter">
            <MainSource>
              <DbSource ConnectionRef="SistranWebGrupoLogos (Web.config)" DbObjectType="Unknown" FillMethodModifier="Public" FillMethodName="Fill" GenerateMethods="Both" GenerateShortCommands="false" GeneratorGetMethodName="GetData" GeneratorSourceName="Fill" GetMethodModifier="Public" GetMethodName="GetData" QueryType="Rowset" ScalarCallRetval="System.Object, mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" UseOptimisticConcurrency="false" UserGetMethodName="GetData" UserSourceName="Fill">
                <SelectCommand>
                  <DbCommand CommandType="Text" ModifiedByUser="true">
                    <CommandText> Select  CEMB.FilialAtual filial,   FL.Sigla nome,  COUNT(*) Notas,   Coalesce(Count(Distinct CNH.CnpjDestinatario),0) As Entregas,     SUM(CNH.Volumes) Volumes,  Cast(SUM(CNH.Peso) As Numeric(12,0)) Peso,  Cast(SUM(CNH.ValorDaNota) As Numeric(12,2)) ValorDaNota  From ConhecimentoAEmbarcar CEMB  Inner Join Conhecimento CNH on (CNH.FilialLancamento = CEMB.FilialLancamento and CNH.Controle = CEMB.Controle)  Inner Join Filial FL on (FL.Filial = CEMB.FilialAtual) where CEMB.Situacao IN ('AGUARDANDO ENTREGA', 'AGUARDANDO EMBARQUE')  and DATEDIFF(day, CNH.DataDeCadastro, GETDATE()) &gt; =3  and CEMB.FilialAtual &lt;&gt; '14' Group By  CEMB.FilialAtual, FL.Sigla  Order By   CEMB.FilialAtual  </CommandText>
                    <Parameters />
                  </DbCommand>
                </SelectCommand>
              </DbSource>
            </MainSource>
            <Mappings>
              <Mapping SourceColumn="filial" DataSetColumn="filial" />
              <Mapping SourceColumn="nome" DataSetColumn="nome" />
              <Mapping SourceColumn="Notas" DataSetColumn="Notas" />
              <Mapping SourceColumn="Entregas" DataSetColumn="Entregas" />
              <Mapping SourceColumn="Volumes" DataSetColumn="Volumes" />
              <Mapping SourceColumn="Peso" DataSetColumn="Peso" />
              <Mapping SourceColumn="ValorDaNota" DataSetColumn="ValorDaNota" />
            </Mappings>
            <Sources />
          </TableAdapter>
        </Tables>
        <Sources />
      </DataSource>
    </xs:appinfo>
  </xs:annotation>
  <xs:element name="DSNFAguardandoEmbarque" msdata:IsDataSet="true" msdata:UseCurrentLocale="true" msprop:Generator_UserDSName="DSNFAguardandoEmbarque" msprop:Generator_DataSetName="DSNFAguardandoEmbarque">
    <xs:complexType>
      <xs:choice minOccurs="0" maxOccurs="unbounded">
        <xs:element name="DataTable1" msprop:Generator_UserTableName="DataTable1" msprop:Generator_RowDeletedName="DataTable1RowDeleted" msprop:Generator_RowChangedName="DataTable1RowChanged" msprop:Generator_RowClassName="DataTable1Row" msprop:Generator_RowChangingName="DataTable1RowChanging" msprop:Generator_RowEvArgName="DataTable1RowChangeEvent" msprop:Generator_RowEvHandlerName="DataTable1RowChangeEventHandler" msprop:Generator_TableClassName="DataTable1DataTable" msprop:Generator_TableVarName="tableDataTable1" msprop:Generator_RowDeletingName="DataTable1RowDeleting" msprop:Generator_TablePropName="DataTable1">
          <xs:complexType>
            <xs:sequence>
              <xs:element name="filial" msprop:Generator_UserColumnName="filial" msprop:Generator_ColumnPropNameInRow="filial" msprop:Generator_ColumnVarNameInTable="columnfilial" msprop:Generator_ColumnPropNameInTable="filialColumn">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="2" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="nome" msprop:Generator_UserColumnName="nome" msprop:Generator_ColumnPropNameInRow="nome" msprop:Generator_ColumnVarNameInTable="columnnome" msprop:Generator_ColumnPropNameInTable="nomeColumn" minOccurs="0">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="6" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="Notas" msdata:ReadOnly="true" msprop:Generator_UserColumnName="Notas" msprop:Generator_ColumnPropNameInRow="Notas" msprop:Generator_ColumnVarNameInTable="columnNotas" msprop:Generator_ColumnPropNameInTable="NotasColumn" type="xs:int" minOccurs="0" />
              <xs:element name="Entregas" msdata:ReadOnly="true" msprop:Generator_UserColumnName="Entregas" msprop:Generator_ColumnPropNameInRow="Entregas" msprop:Generator_ColumnVarNameInTable="columnEntregas" msprop:Generator_ColumnPropNameInTable="EntregasColumn" type="xs:int" minOccurs="0" />
              <xs:element name="Volumes" msdata:ReadOnly="true" msprop:Generator_UserColumnName="Volumes" msprop:Generator_ColumnPropNameInRow="Volumes" msprop:Generator_ColumnVarNameInTable="columnVolumes" msprop:Generator_ColumnPropNameInTable="VolumesColumn" type="xs:int" minOccurs="0" />
              <xs:element name="Peso" msdata:ReadOnly="true" msprop:Generator_UserColumnName="Peso" msprop:Generator_ColumnPropNameInRow="Peso" msprop:Generator_ColumnVarNameInTable="columnPeso" msprop:Generator_ColumnPropNameInTable="PesoColumn" type="xs:decimal" minOccurs="0" />
              <xs:element name="ValorDaNota" msdata:ReadOnly="true" msprop:Generator_UserColumnName="ValorDaNota" msprop:Generator_ColumnPropNameInRow="ValorDaNota" msprop:Generator_ColumnVarNameInTable="columnValorDaNota" msprop:Generator_ColumnPropNameInTable="ValorDaNotaColumn" type="xs:decimal" minOccurs="0" />
              <xs:element name="RE_Emitidas" msdata:ReadOnly="true" msprop:Generator_UserColumnName="RE_Emitidas" msprop:Generator_ColumnPropNameInRow="RE_Emitidas" msprop:Generator_ColumnVarNameInTable="columnRE_Emitidas" msprop:Generator_ColumnPropNameInTable="RE_EmitidasColumn" type="xs:int" minOccurs="0" />
              <xs:element name="RE_NaoLiberadas" msdata:ReadOnly="true" msprop:Generator_UserColumnName="RE_NaoLiberadas" msprop:Generator_ColumnPropNameInRow="RE_NaoLiberadas" msprop:Generator_ColumnVarNameInTable="columnRE_NaoLiberadas" msprop:Generator_ColumnPropNameInTable="RE_NaoLiberadasColumn" type="xs:int" minOccurs="0" />
              <xs:element name="NotasFiscaisNasRENaoLiberadas" msdata:ReadOnly="true" msprop:Generator_UserColumnName="NotasFiscaisNasRENaoLiberadas" msprop:Generator_ColumnPropNameInRow="NotasFiscaisNasRENaoLiberadas" msprop:Generator_ColumnVarNameInTable="columnNotasFiscaisNasRENaoLiberadas" msprop:Generator_ColumnPropNameInTable="NotasFiscaisNasRENaoLiberadasColumn" type="xs:int" minOccurs="0" />
              <xs:element name="SemDataDeEntrega" msdata:ReadOnly="true" msprop:Generator_UserColumnName="SemDataDeEntrega" msprop:Generator_ColumnPropNameInRow="SemDataDeEntrega" msprop:Generator_ColumnVarNameInTable="columnSemDataDeEntrega" msprop:Generator_ColumnPropNameInTable="SemDataDeEntregaColumn" type="xs:int" minOccurs="0" />
            </xs:sequence>
          </xs:complexType>
        </xs:element>
        <xs:element name="DataTable2" msprop:Generator_UserTableName="DataTable2" msprop:Generator_RowDeletedName="DataTable2RowDeleted" msprop:Generator_RowChangedName="DataTable2RowChanged" msprop:Generator_RowClassName="DataTable2Row" msprop:Generator_RowChangingName="DataTable2RowChanging" msprop:Generator_RowEvArgName="DataTable2RowChangeEvent" msprop:Generator_RowEvHandlerName="DataTable2RowChangeEventHandler" msprop:Generator_TableClassName="DataTable2DataTable" msprop:Generator_TableVarName="tableDataTable2" msprop:Generator_RowDeletingName="DataTable2RowDeleting" msprop:Generator_TablePropName="DataTable2">
          <xs:complexType>
            <xs:sequence>
              <xs:element name="filial" msprop:Generator_UserColumnName="filial" msprop:Generator_ColumnVarNameInTable="columnfilial" msprop:Generator_ColumnPropNameInRow="filial" msprop:Generator_ColumnPropNameInTable="filialColumn">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="2" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="nome" msprop:Generator_UserColumnName="nome" msprop:Generator_ColumnVarNameInTable="columnnome" msprop:Generator_ColumnPropNameInRow="nome" msprop:Generator_ColumnPropNameInTable="nomeColumn" minOccurs="0">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="6" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="Notas" msdata:ReadOnly="true" msprop:Generator_UserColumnName="Notas" msprop:Generator_ColumnVarNameInTable="columnNotas" msprop:Generator_ColumnPropNameInRow="Notas" msprop:Generator_ColumnPropNameInTable="NotasColumn" type="xs:int" minOccurs="0" />
              <xs:element name="Entregas" msdata:ReadOnly="true" msprop:Generator_UserColumnName="Entregas" msprop:Generator_ColumnVarNameInTable="columnEntregas" msprop:Generator_ColumnPropNameInRow="Entregas" msprop:Generator_ColumnPropNameInTable="EntregasColumn" type="xs:int" minOccurs="0" />
              <xs:element name="Volumes" msdata:ReadOnly="true" msprop:Generator_UserColumnName="Volumes" msprop:Generator_ColumnVarNameInTable="columnVolumes" msprop:Generator_ColumnPropNameInRow="Volumes" msprop:Generator_ColumnPropNameInTable="VolumesColumn" type="xs:int" minOccurs="0" />
              <xs:element name="Peso" msdata:ReadOnly="true" msprop:Generator_UserColumnName="Peso" msprop:Generator_ColumnVarNameInTable="columnPeso" msprop:Generator_ColumnPropNameInRow="Peso" msprop:Generator_ColumnPropNameInTable="PesoColumn" type="xs:decimal" minOccurs="0" />
              <xs:element name="ValorDaNota" msdata:ReadOnly="true" msprop:Generator_UserColumnName="ValorDaNota" msprop:Generator_ColumnVarNameInTable="columnValorDaNota" msprop:Generator_ColumnPropNameInRow="ValorDaNota" msprop:Generator_ColumnPropNameInTable="ValorDaNotaColumn" type="xs:decimal" minOccurs="0" />
            </xs:sequence>
          </xs:complexType>
        </xs:element>
      </xs:choice>
    </xs:complexType>
  </xs:element>
</xs:schema>